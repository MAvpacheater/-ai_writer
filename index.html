<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–Ü-–ü–∏—Å—å–º–µ–Ω–Ω–∏–∫</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo">
                <svg class="logo-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                </svg>
                <h1 class="logo-text">–®–Ü-–ü–∏—Å—å–º–µ–Ω–Ω–∏–∫</h1>
            </div>
            <div class="header-stats">
                <div class="stat-item">
                    <span class="stat-label">–†–æ–∑–¥—ñ–ª—ñ–≤</span>
                    <span class="stat-value" id="headerChaptersCount">0/0</span>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="tab-navigation">
            <button onclick="switchTab('setup')" id="tab-setup" class="tab-btn active">
                <span class="tab-number">1</span>
                <span class="tab-text">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</span>
            </button>
            <button onclick="switchTab('outline')" id="tab-outline" class="tab-btn">
                <span class="tab-number">2</span>
                <span class="tab-text">–°—Ç—Ä—É–∫—Ç—É—Ä–∞</span>
            </button>
            <button onclick="switchTab('generate')" id="tab-generate" class="tab-btn">
                <span class="tab-number">3</span>
                <span class="tab-text">–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è</span>
            </button>
            <button onclick="switchTab('export')" id="tab-export" class="tab-btn">
                <span class="tab-number">4</span>
                <span class="tab-text">–ï–∫—Å–ø–æ—Ä—Ç</span>
            </button>
        </nav>

        <!-- Tab: Setup -->
        <div id="content-setup" class="tab-content active">
            <div class="content-grid">
                <!-- API Settings -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">üîå API –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label">API Provider</label>
                            <select id="apiProvider" class="form-select">
                                <option value="gemini">Google Gemini</option>
                                <option value="openai">OpenAI</option>
                                <option value="anthropic">Anthropic Claude</option>
                                <option value="custom">Custom URL</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">–ú–æ–¥–µ–ª—å</label>
                            <select id="modelName" class="form-select">
                                <option value="gemini-2.0-flash">Gemini 2.0 Flash (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)</option>
                                <option value="gemini-3.0-pro">Gemini 3 Pro</option>
                                <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">API Key</label>
                            <input type="password" id="apiKey" class="form-input" placeholder="AIza... –∞–±–æ sk-...">
                        </div>

                        <div id="customUrlBlock" class="form-group hidden">
                            <label class="form-label">Custom API URL</label>
                            <input type="text" id="customUrl" class="form-input" placeholder="https://api.example.com/v1/chat/completions">
                        </div>

                        <div class="params-grid">
                            <div class="form-group">
                                <label class="form-label">Temperature: <span id="tempValue" class="param-value">0.9</span></label>
                                <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.9" class="form-range">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Top P: <span id="topPValue" class="param-value">0.95</span></label>
                                <input type="range" id="topP" min="0" max="1" step="0.05" value="0.95" class="form-range">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Top K: <span id="topKValue" class="param-value">40</span></label>
                                <input type="range" id="topK" min="1" max="100" value="40" class="form-range">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Max Tokens: <span id="maxTokensValue" class="param-value">8000</span></label>
                                <input type="range" id="maxTokens" min="1000" max="32000" step="1000" value="8000" class="form-range">
                            </div>
                        </div>

                        <button onclick="testAPI()" class="btn btn-secondary">
                            üß™ –¢–µ—Å—Ç API
                        </button>
                    </div>
                </div>

                <!-- Book Settings -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">üìö –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫–Ω–∏–≥–∏</h2>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label">–ù–∞–∑–≤–∞ –∫–Ω–∏–≥–∏</label>
                            <input id="title" class="form-input" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É...">
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">–ñ–∞–Ω—Ä</label>
                                <input id="genre" class="form-input" placeholder="–§–µ–Ω—Ç–µ–∑—ñ, –Ω–∞—É–∫–æ–≤–∞ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞...">
                            </div>
                            <div class="form-group">
                                <label class="form-label">–°—Ç–∏–ª—å</label>
                                <input id="style" class="form-input" placeholder="–ü–æ–µ—Ç–∏—á–Ω–∏–π, –µ–ø—ñ—á–Ω–∏–π...">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">–ü–µ—Ä—Å–æ–Ω–∞–∂—ñ</label>
                            <textarea id="characters" class="form-textarea" rows="3" placeholder="–û–ø–∏—Å –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤, —ó—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä —Ç–∞ –º–æ—Ç–∏–≤–∞—Ü—ñ—è..."></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label">–°–≤—ñ—Ç/–°–µ—Ç—Ç—ñ–Ω–≥</label>
                            <textarea id="world" class="form-textarea" rows="3" placeholder="–û–ø–∏—Å —Å–≤—ñ—Ç—É —Ç–∞ –π–æ–≥–æ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π..."></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label">–ì–æ–ª–æ–≤–Ω–∞ —ñ–¥–µ—è</label>
                            <textarea id="mainIdea" class="form-textarea" rows="3" placeholder="–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ —Ç–µ–º–∞ —Ç–∞ –ø–æ—Å–ª–∞–Ω–Ω—è –∫–Ω–∏–≥–∏..."></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label">–ö–æ–Ω—Ñ–ª—ñ–∫—Ç</label>
                            <textarea id="conflict" class="form-textarea" rows="3" placeholder="–û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ñ–ª—ñ–∫—Ç —Ç–∞ –Ω–∞–ø—Ä—É–≥–∞..."></textarea>
                        </div>

                        <div class="params-grid">
                            <div class="form-group">
                                <label class="form-label">–†–æ–∑–¥—ñ–ª—ñ–≤: <span id="chaptersValue" class="param-value">10</span></label>
                                <input type="range" id="chaptersCount" min="3" max="50" value="10" class="form-range">
                            </div>
                            <div class="form-group">
                                <label class="form-label">–î–æ–≤–∂–∏–Ω–∞: <span id="chapterLengthValue" class="param-value">2000</span> —Å–ª—ñ–≤</label>
                                <input type="range" id="chapterLength" min="500" max="5000" step="500" value="2000" class="form-range">
                            </div>
                            <div class="form-group">
                                <label class="form-label">–ü–æ–µ—Ç–∏—á–Ω—ñ—Å—Ç—å: <span id="poetryValue" class="param-value">7</span>/10</label>
                                <input type="range" id="poetryLevel" min="1" max="10" value="7" class="form-range">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">–¢–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å</label>
                            <select id="tone" class="form-select">
                                <option value="neutral">–ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞</option>
                                <option value="dark">–¢–µ–º–Ω–∞</option>
                                <option value="light">–°–≤—ñ—Ç–ª–∞</option>
                                <option value="epic">–ï–ø—ñ—á–Ω–∞</option>
                                <option value="ironic">–Ü—Ä–æ–Ω—ñ—á–Ω–∞</option>
                                <option value="romantic">–†–æ–º–∞–Ω—Ç–∏—á–Ω–∞</option>
                                <option value="philosophical">–§—ñ–ª–æ—Å–æ—Ñ—Å—å–∫–∞</option>
                            </select>
                        </div>

                        <button onclick="saveSettings()" class="btn btn-primary">
                            üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: Outline -->
        <div id="content-outline" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–Ω–∏–≥–∏</h2>
                    <button onclick="generateOutline()" id="btnOutline" class="btn btn-primary">
                        ‚ñ∂Ô∏è –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ outline
                    </button>
                </div>
                <div class="card-body">
                    <div id="outlineContent" class="outline-list"></div>
                </div>
            </div>
        </div>

        <!-- Tab: Generate -->
        <div id="content-generate" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">‚úçÔ∏è –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–æ–∑–¥—ñ–ª—ñ–≤</h2>
                </div>
                <div class="card-body">
                    <div id="generateContent"></div>
                </div>
            </div>
        </div>

        <!-- Tab: Export -->
        <div id="content-export" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">üì• –ï–∫—Å–ø–æ—Ä—Ç –∫–Ω–∏–≥–∏</h2>
                </div>
                <div class="card-body">
                    <div class="export-status">
                        –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ —Ä–æ–∑–¥—ñ–ª—ñ–≤: <span id="exportStatus" class="status-highlight">0 / 0</span>
                    </div>

                    <div class="export-buttons">
                        <button onclick="exportBook('txt')" class="btn btn-secondary">
                            üìÑ –ï–∫—Å–ø–æ—Ä—Ç TXT
                        </button>
                        <button onclick="exportBook('html')" class="btn btn-secondary">
                            üåê –ï–∫—Å–ø–æ—Ä—Ç HTML
                        </button>
                        <button onclick="exportBook('epub')" class="btn btn-secondary">
                            üìö –ï–∫—Å–ø–æ—Ä—Ç EPUB
                        </button>
                    </div>

                    <h3 class="preview-title">–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥:</h3>
                    <div id="previewContent" class="preview-box"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
