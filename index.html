<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–Ü-–ü–∏—Å—å–º–µ–Ω–Ω–∏–∫ - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ö–Ω–∏–≥</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üìö</span>
                    <span>–®–Ü-–ü–∏—Å—å–º–µ–Ω–Ω–∏–∫</span>
                </div>
                <div class="model-badge" id="headerStats">
                    –†–æ–∑–¥—ñ–ª—ñ–≤: <span id="headerChaptersCount">0/0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            
            <!-- Hero Section -->
            <section class="hero-section">
                <h1 class="hero-title">–°—Ç–≤–æ—Ä—ñ—Ç—å —Å–≤–æ—é –∫–Ω–∏–≥—É –∑ –¥–æ–ø–æ–º–æ–≥–æ—é –®–Ü</h1>
                <p class="hero-subtitle">–ü–æ—Ç—É–∂–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ö—É–¥–æ–∂–Ω—ñ—Ö —Ç–µ–∫—Å—Ç—ñ–≤ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Ä—ñ–∑–Ω–∏—Ö AI –º–æ–¥–µ–ª–µ–π</p>
            </section>

            <!-- Tab Navigation -->
            <nav class="wizard-steps" style="margin-bottom: 2rem;">
                <div class="step active" onclick="switchTab('setup')" id="tab-setup">1</div>
                <div class="step-line"></div>
                <div class="step" onclick="switchTab('outline')" id="tab-outline">2</div>
                <div class="step-line"></div>
                <div class="step" onclick="switchTab('generate')" id="tab-generate">3</div>
                <div class="step-line"></div>
                <div class="step" onclick="switchTab('export')" id="tab-export">4</div>
            </nav>

            <!-- Tab: Setup -->
            <div id="content-setup" class="tab-content active">
                <div class="wizard-container">
                    <h2 style="margin-bottom: 2rem; font-size: 1.5rem;">‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem;">
                        
                        <!-- API Settings -->
                        <div>
                            <h3 style="margin-bottom: 1.5rem; color: var(--color-accent);">üîå API –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h3>
                            
                            <div class="form-group">
                                <label class="form-label">API Provider</label>
                                <select id="apiProvider" class="form-select">
                                    <option value="gemini">Google Gemini</option>
                                    <option value="openai">OpenAI</option>
                                    <option value="anthropic">Anthropic Claude</option>
                                    <option value="custom">Custom URL</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">–ú–æ–¥–µ–ª—å</label>
                                <select id="modelName" class="form-select">
                                    <option value="gemini-2.5-flash">Gemini 2.5 Flash üî•</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">API Key</label>
                                <input type="password" id="apiKey" class="form-input" placeholder="AIza... –∞–±–æ sk-...">
                            </div>

                            <div id="customUrlBlock" class="form-group" style="display: none;">
                                <label class="form-label">Custom API URL</label>
                                <input type="text" id="customUrl" class="form-input" placeholder="https://api.example.com/v1/chat/completions">
                            </div>

                            <div class="form-group">
                                <label class="form-label">Temperature: <span id="tempValue" class="range-value">0.9</span></label>
                                <input type="range" id="temperature" min="0" max="2" step="0.1" value="0.9">
                                <div class="range-labels">
                                    <span>–¢–æ—á–Ω–∏–π</span>
                                    <span>–ö—Ä–µ–∞—Ç–∏–≤–Ω–∏–π</span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Max Tokens: <span id="maxTokensValue" class="range-value">8000</span></label>
                                <input type="range" id="maxTokens" min="2000" max="32000" step="1000" value="8000">
                            </div>

                            <button onclick="testAPI()" class="btn btn-secondary" style="width: 100%;">
                                üß™ –¢–µ—Å—Ç API
                            </button>
                        </div>

                        <!-- Book Settings -->
                        <div>
                            <h3 style="margin-bottom: 1.5rem; color: var(--color-accent);">üìö –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫–Ω–∏–≥–∏</h3>
                            
                            <div class="form-group">
                                <label class="form-label">–ù–∞–∑–≤–∞ –∫–Ω–∏–≥–∏ *</label>
                                <input id="title" class="form-input" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –∫–Ω–∏–≥–∏...">
                            </div>

                            <div class="form-group">
                                <label class="form-label">–ñ–∞–Ω—Ä *</label>
                                <input id="genre" class="form-input" placeholder="–§–µ–Ω—Ç–µ–∑—ñ, –Ω–∞—É–∫–æ–≤–∞ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞, –¥–µ—Ç–µ–∫—Ç–∏–≤...">
                            </div>

                            <div class="form-group">
                                <label class="form-label">–°—Ç–∏–ª—å –ø–∏—Å—å–º–∞</label>
                                <select id="style" class="form-select">
                                    <option value="narrative">–û–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π</option>
                                    <option value="poetic">–ü–æ–µ—Ç–∏—á–Ω–∏–π</option>
                                    <option value="epic">–ï–ø—ñ—á–Ω–∏–π</option>
                                    <option value="minimalist">–ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π</option>
                                    <option value="descriptive">–û–ø–∏—Å–æ–≤–∏–π</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">–ü–µ—Ä—Å–æ–Ω–∞–∂—ñ</label>
                                <textarea id="characters" class="form-textarea" rows="2" placeholder="–û–ø–∏—à—ñ—Ç—å –≥–æ–ª–æ–≤–Ω–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤..."></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label">–ì–æ–ª–æ–≤–Ω–∞ —ñ–¥–µ—è</label>
                                <textarea id="mainIdea" class="form-textarea" rows="2" placeholder="–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞ —Ç–µ–º–∞ –∫–Ω–∏–≥–∏..."></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label">–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–æ–∑–¥—ñ–ª—ñ–≤: <span id="chaptersValue" class="range-value">10</span></label>
                                <input type="range" id="chaptersCount" min="3" max="30" value="10">
                            </div>

                            <div class="form-group">
                                <label class="form-label">–î–æ–≤–∂–∏–Ω–∞ —Ä–æ–∑–¥—ñ–ª—É (—Å–ª—ñ–≤): <span id="chapterLengthValue" class="range-value">2000</span></label>
                                <input type="range" id="chapterLength" min="500" max="5000" step="500" value="2000">
                            </div>

                            <button onclick="saveSettings()" class="btn btn-primary" style="width: 100%;">
                                üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab: Outline -->
            <div id="content-outline" class="tab-content">
                <div class="wizard-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h2 style="font-size: 1.5rem;">üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–Ω–∏–≥–∏</h2>
                        <button onclick="generateOutline()" id="btnOutline" class="btn btn-primary">
                            ‚ñ∂Ô∏è –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ outline
                        </button>
                    </div>
                    <div id="outlineContent"></div>
                </div>
            </div>

            <!-- Tab: Generate -->
            <div id="content-generate" class="tab-content">
                <div class="wizard-container">
                    <h2 style="margin-bottom: 2rem; font-size: 1.5rem;">‚úçÔ∏è –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–æ–∑–¥—ñ–ª—ñ–≤</h2>
                    <div id="generateContent"></div>
                </div>
            </div>

            <!-- Tab: Export -->
            <div id="content-export" class="tab-content">
                <div class="wizard-container">
                    <h2 style="margin-bottom: 2rem; font-size: 1.5rem;">üì• –ï–∫—Å–ø–æ—Ä—Ç –∫–Ω–∏–≥–∏</h2>
                    
                    <div style="background: var(--color-bg-secondary); padding: 1.5rem; border-radius: var(--radius-lg); margin-bottom: 2rem; text-align: center;">
                        <p style="font-size: 1.1rem;">–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ —Ä–æ–∑–¥—ñ–ª—ñ–≤: <span id="exportStatus" style="color: var(--color-accent); font-weight: 700; font-size: 1.5rem;">0/0</span></p>
                    </div>

                    <div style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
                        <button onclick="exportBook('txt')" class="btn btn-secondary">üìÑ –ï–∫—Å–ø–æ—Ä—Ç TXT</button>
                        <button onclick="exportBook('html')" class="btn btn-secondary">üåê –ï–∫—Å–ø–æ—Ä—Ç HTML</button>
                        <button onclick="exportBook('epub')" class="btn btn-secondary">üìö –ï–∫—Å–ø–æ—Ä—Ç EPUB</button>
                    </div>

                    <h3 style="margin-bottom: 1rem; color: var(--color-accent);">–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥:</h3>
                    <div id="previewContent" style="background: var(--color-bg-secondary); padding: 1.5rem; border-radius: var(--radius-lg); max-height: 500px; overflow-y: auto;"></div>
                </div>
            </div>

        </div>
    </main>

    <script src="app.js"></script>
</body>
</html>
